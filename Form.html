<!DOCTYPE html>
<html>
<style>

input[type=text], select, textarea {
  width: 100%;
  padding: 8px;
  margin: 2px 0;
  display: inline-block;
  border: 1px solid #ccc;
  border-radius: 4px;
  resize: vertical;
  box-sizing: border-box;
}

input[type=email] {
  width: 100%;
  padding: 8px;
  margin: 2px 0;
  display: inline-block;
  border: 1px solid #ccc;
  border-radius: 4px;
  resize: vertical;
  box-sizing: border-box;
}

input[type=number] {
  width: 100%;
  padding: 8px;
  margin: 2px 0;
  display: inline-block;
  border: 1px solid #ccc;
  border-radius: 4px;
  resize: vertical;
  box-sizing: border-box;
  -webkit-appearance: none;
  -moz-appearance: textfield;
}

input[type=submit] {
  width: 100%;
  background-color: #4CAF50;
  color: white;
  padding: 10px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

input[type=submit]:hover {
  background-color: #2aa930;
}

div {
  border-radius: 5px;
  background-color: #f2f2f2;
  padding: 5px;
}

.div-time {
  max-width: 360px;
  padding-top: 20px;
  text-align: left;
  background-color: white;
  margin: 0;
}

.div-uppertime {
  max-width: 360px;
  padding-top: 10px;
  padding-bottom: 24px;
  text-align: center;
  background-color: white;
}

.title {
  color: black;
  font-size: 15px;
}

.container {
  border-radius: 5px;
  background-color: #f2f2f2;
  padding: 10px;
  max-width: 300px;
}

.divcontainer {
  padding-left: 20px;
  padding-right: 20px;
  max-width: 360px;
  background-color: white;
}

.closebtn {
  margin-left: 15px;
  color: gray;
  font-weight: bold;
  float: right;
  font-size: 22px;
  line-height: 20px;
  cursor: pointer;
  transition: 0.3s;
}

div.sticky {
  position: sticky;
  padding: 5px;
  background-color: #eceed2;
  color: black;
  bottom: 0;
  border: 1px solid #2aa930;
  max-width: 360px;
}

.alerttitle{
  color: black;
  font-size: 14px;
  margin: 0;
  padding-top: 1px;
  padding-left: 10px;
  text-align: left;
}

alert-group {
  display: flex;
  flex-direction: row;
}

icon-group {
  display: flex;
  flex-direction: row;
  justify-content:space-between;
}

.icon {
            font-size: 11pt;
            color: rgb(14, 159, 14); /* Set the desired text color */
            display: inline-flex;
            align-items: center;
            background-color: #eceed2;
        }
.icon svg {
            width: 16px;   /* Set the desired size */
            height: 16px;
            fill: currentColor;
        }
  
.heading {
  color: white;
  font-size: 24px;
  margin: 0;
  padding-top: 20px;
  padding-left: 5px;
  text-align: left;
  font-weight: bold;
}

heading-group {
  display: flex;
  flex-direction: row;
  justify-content:space-between;
}

.background {
  border-top-left-radius: 8px;
  border-top-right-radius: 8px;
  max-width: 360px;
  font-family: arial;
  background-color: #67B212;
}

back-button{
  padding-top: 24px;
  padding-left: 10px;
  margin: 0;
  background-color: #67B212;
  border-top-left-radius: 8px;
}

button-dropdown {
  padding: 24px;
  margin: 0;
  background-color: #67B212;
  border-top-right-radius: 8px;
}

.submission-message {
            color: black;
            text-align: center;
            margin-top: 0px;
        }
</style>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<body>

   <div class="background">
     <heading-group>
      <alert-group>
      <back-button>
        <button style= "background-color: #67B212; border: none; font-size:16px;" onclick="history.back()" ><i class="fa fa-arrow-left"></i></button>
        </back-button>
    <p class="heading">YODEL</p>
     </alert-group>
     <button-dropdown>
    <button style= "background-color: #67B212; border: none; font-size:16px;" onclick="" ><i class="fa fa-chevron-down"></i></button>
     </button-dropdown>
     </heading-group>
    </div> 
    <div class="divcontainer">
    <div class="div-uppertime" id="uppertime"></div>
 
   <div class="container">
       <p class="title">Before we chat, we just need a few details about you and your parcel.</p>
    <form>
        <label for="fname">First name</label>
        <font color= Red> * </font>
        <input type="text" id="fname" placeholder="First name" required><br><br>
    
        <label for="lname">Last name</label>
        <font color= Red> * </font>
        <input type="text" id="lname" placeholder="Last name"required><br><br>
    
        <label for="email">Email address</label>
        <font color= Red> * </font>
        <input type="email" id="email" autocomplete="off" placeholder="Email address"required/><br><br>

        <label for="lineaddress">First line of address</label>
        <font color= Red> * </font>
        <input type="text" id="lineaddress" placeholder="First line of address"required><br><br>
    
        <label for="pcode">Postcode</label>
        <input type="number" id="pcode" placeholder="Postcode"><br><br>
    
        <label for="nHelp">What do you need help with?</label>
        <font color= Red> * </font>
        <!-- <font color= Red> * </font> -->
        <select id="nHelp" required>
          <option value="">Select....</option>
          <option value="My Parcel is late">My Parcel is late</option>
          <option value="Change my delivery options">Change my delivery options</option>
          <option value="I am awaiiting feedback from Yodel">I am awaiiting feedback from Yodel</option>
          <option value="Tracking shows delivered but there is an issue">Tracking shows delivered but there is an issue</option>
          <option value="I missed the delivery of my parcel">I missed the delivery of my parcel</option>
          <option value="I have returned my parcel but there is an issue">I have returned my parcel but there is an issue</option>
          <option value="I need help to return a parcel">I need help to return a parcel</option>
          <option value="My query is not related to any of the above">My query is not related to any of the above</option>
        </select><br><br>
    
        <label for="tNumber">Tracking number</label>
        <input type="number" id="tNumber" placeholder="Tracking number"><br><br>
    
      <input type="submit" id="submit-btn" onclick="storeInput() " value="Submit">
  </form>
   </div>
   <div class="div-time" id="time">
   </div>
  </div>
   <div id="alertId" class="sticky">
   <icon-group>
    <alert-group>
    <svg xmlns="http://www.w3.org/2000/svg" style="display:none;">
      <defs>
          <!-- Replace with your desired SVG -->
          <symbol id="info-icon" viewBox="0 0 16 16">
              <path d="M7.92,5.32v0A.92.92,0,1,0,7,4.37v0A.92.92,0,0,0,7.92,5.32ZM8.85,6H6.55a4.58,4.58,0,0,1-.1.63,3,3,0,0,1-.2.67h1.3v3.53H6.25v1.3H9.57v-1.3H8.85ZM13,3.05A7,7,0,1,0,13,13,7,7,0,0,0,13,3.05ZM12,12A5.6,5.6,0,0,1,4,12,5.61,5.61,0,0,1,4,4,5.6,5.6,0,0,1,12,4,5.61,5.61,0,0,1,12,12Z"/>
          </symbol>
      </defs>
   </svg>

   <div class="icon">
      <svg><use href="#info-icon" /></svg>
   </div>
    <p class="alerttitle">This chat is governed by Yodel's <br> <a href="https://www.yodel.co.uk/privacy-cookies-policy">Privacy & Cookies Policy.</a> </p>
    </alert-group>
    <span class="closebtn">&times;</span>
    </icon-group>
   </div>

   <div class="submission-message" style="display: none;"></div>
</body>

<script>
  function updateTime() {
      const date = new Date();
      const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
      const time = date.toLocaleTimeString();
      const day = date.toLocaleDateString(undefined, options);
      document.getElementById('time').innerHTML =
          `Yodel â€¢ ${time}`;
          document.getElementById('uppertime').innerHTML =
          `${time}`;
  }

  setInterval(updateTime, 1000);
  updateTime();

  function myFunction() {
  document.getElementById("alertId").style.display = "none";
}
</script>

<!-- <script src="storeInputValue.js"> </script> -->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
    window.onload = function() {
    var inputFields = document.querySelectorAll('input');
    inputFields.forEach(function(input) {
      input.setAttribute('autocomplete', 'off');
    });
  };
        $(function () {
            $("#submit-btn").click(function () {
                // Retrieve form data
                var firstName = $("#fname").val().trim();
                var lastName = $("#lname").val().trim();
                var email = $("#email").val().trim();
                var lineaddress = $("#lineaddress").val().trim();
                var pcode = $("#pcode").val().trim();
                var nHelp = $("#nHelp").val().trim();
                var tNumber = $("#tNumber").val().trim();
                // Validate input fields
                if (firstName === '' || lastName === '' || email === '' || lineaddress === ''|| nHelp === '') {
                    alert('Please fill in all fields.');
                    return;
                }
                // Validate email format
                var emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailPattern.test(email)) {
                    alert('Please enter a valid email address.');
                    return;
                }
                // Disable form fields after submission
                $("input").prop('disabled', true);
                $("button").prop('disabled', true);
                // Send form data via postMessage
                var targetOrigin = 'https://www.mrappliance.com'; // Replace this with your target origin

                window.parent.postMessage(JSON.stringify({
                    event_code: 'ym-client-event',
                    data: JSON.stringify({
                        event: {
                            code: "userdetails",
                            data: {
                                firstname: firstName,
                                lastname: lastName,
                                lineaddress: lineaddress,
                                email: email,
                                pcode: pcode,
                                nHelp: nHelp,
                                tNumber: tNumber
                            }
                        }
                    })
                }), targetOrigin);
                // Fade out the form and append thank you message
                $("#submit-btn").fadeOut("slow", function () {
                    // $(".submission-message").fadeIn("slow");
                    alert("Details submitted successfully!")
                });
            });

            // // Cancel button click event
            // $("#cancel-btn").click(function () {
            //     $("#form").html("<div class='submission-message'>Going Back!</div>");
            // });
        });
    </script>

</html>
