<!DOCTYPE html>
<html>
<style>

*,
*::after,
*::before {
  padding: 0;
  margin: 0;
  box-sizing: border-box;
}
 
html,
body {
  height: 100%;
}

input[type=text], select, textarea {
  width: 100%;
  padding: 8px;
  margin: 2px 0;
  display: inline-block;
  border: 1px solid #ccc;
  border-radius: 4px;
  resize: vertical;
  box-sizing: border-box;
  background-color: #ffffff;
}

input[type=email] {
  width: 100%;
  padding: 8px;
  margin: 2px 0;
  display: inline-block;
  border: 1px solid #ccc;
  border-radius: 4px;
  resize: vertical;
  box-sizing: border-box;
  background-color: #ffffff;
}

input[type=number] {
  width: 100%;
  padding: 8px;
  margin: 2px 0;
  display: inline-block;
  border: 1px solid #ccc;
  border-radius: 4px;
  resize: vertical;
  box-sizing: border-box;
  background-color: #ffffff;
  
}

input[type=submit] {
  width: 100%;
  background-color:#99CC00;
  color: white;
  padding: 8px 12px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

input[type=submit]:hover {
  background-color: #4e4e4f;
  color: #ffffff;
}

div {
  border-radius: 5px;
  background-color: #f2f2f2;
  padding: 5px;
}

.title {
  color: #4e4e4f;
  font-size: 12px;
  font-family: "Mulish", sans-serif;
}

.container {
  border-radius: 5px;
  background-color: #f2f2f2;
  position: relative;
  padding-bottom: 32px;
}

.divcontainer {
  padding-left: 10px;
  padding-right: 10px;
  width: 100%;
  background-color: #f2f2f2;
}

.closebtn {
  margin-left: 15px;
  color: gray;
  font-weight: bold;
  float: right;
  font-size: 22px;
  line-height: 20px;
  cursor: pointer;
  transition: 0.3s;
}

div.sticky {
  position: sticky;
  padding: 5px;
  background-color: #f7fbeb;
  color: black;
  bottom: 0;
  border: 1px solid #99cc00;
  width: 100%;
  margin-top: 32px;
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
}

.contentleft{
  display: flex;
  align-items: flex-start;
  justify-content: start;
  background-color: #f7fbeb;
}

.contentleft img{
  margin-right: 8px;
  background-color: #f7fbeb;
}

.contentright {
  background-color: #f7fbeb;
}

.alerttitle{
  color: black;
  font-size: 14px;
  margin: 0;
  padding-top: 1px;
  padding-left: 10px;
  text-align: left;
}



.background {
  border-top-left-radius: 8px;
  border-top-right-radius: 8px;
  width: 100%;
  font-family: arial;
  background-color: #67B212;
}

.submission-message {
text-align: center;
color: green;
font-weight: bold;
margin-top: 10px;
display: none;
}
.yodelLogo{
          height: 32px;
          width: 32px;
          border-radius: 50%;
          position: absolute;
          left: -10px;
          bottom: -24px;
}
.Formvalues{
          display: flex;
          flex-direction: column;
        }
.Formvalues label span{
          color: #CC0000;
        }

.Formvalues label {
          font-size: 12px;
          margin-bottom: 6px;
          font-family: Mulish, sans-serif;
          
        }
        input[type=text], select, textarea {
    width: 100%;
    padding: 8px;
    margin: 2px 0;
    display: inline-block;
    border: 1px solid #ccc;
    border-radius: 4px;
    resize: vertical;
    box-sizing: border-box;
    background-color: #ffffff;
}
.form-control {
    display: block;
    width: 100%;
    height: 30px !important;
    padding: 6px 8px !important;
    font-size: 12px !important;
}
.form-control:focus {
    border-color: #66afe9;
    outline: 0;
    -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075), 0 0 8px rgba(102, 175, 233, .6);
    box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075), 0 0 8px rgba(102, 175, 233, .6);
}
</style>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<body>

    <div class="divcontainer">
      <!-- <button style= "padding-top: 10px; padding-bottom: 20px; background-color: white; border: none; font-size:16px;" onclick="history.back()" ><i class="fa fa-arrow-left"></i> Back</button> -->
      <div class="container">
       <p class="title">Before we chat, we just need a few details about you and your parcel.</p>
     <form class="Formvalues" id="yodel-form">
      <div>
        <label for="fname">First name <span>*</span></label>
        
        <input class="form-control" type="text" id="fname" placeholder="First name" required>
      </div>
     
    <div>
      <label for="lname">Last name <span>*</span> </label>

      <input class="form-control" type="text" id="lname" placeholder="Last name"required>
    </div>
        <div>
          <label for="email">Email address <span>*</span> </label>
          
          <input class="form-control" type="email" id="email" autocomplete="off" placeholder="Email address"required/>
        </div>
        
        
<div>
  <label style="font-size: 12px; font-family: Mulish, sans-serif;" for="lineaddress">First line of address <span>*</span></label>
  
  <input class="form-control" type="text" id="lineaddress" placeholder="First line of address"required>
</div>
       <div>
        <label for="pcode">Postcode</label>
        <input class="form-control" type="number" id="pcode" placeholder="Postcode">
       </div>
  
    <div>
      <label for="nHelp">What do you need help with? <span>*</span></label>
      
    </div>
        <div>
          <select class="form-control" id="nHelp" required>
            <option value="">Select....</option>
            <option value="My Parcel is late">My Parcel is late</option>
            <option value="Change my delivery options">Change my delivery options</option>
            <option value="I am awaiiting feedback from Yodel">I am awaiiting feedback from Yodel</option>
            <option value="Tracking shows delivered but there is an issue">Tracking shows delivered but there is an issue</option>
            <option value="I missed the delivery of my parcel">I missed the delivery of my parcel</option>
            <option value="I have returned my parcel but there is an issue">I have returned my parcel but there is an issue</option>
            <option value="I need help to return a parcel">I need help to return a parcel</option>
            <option value="My query is not related to any of the above">My query is not related to any of the above</option>
          </select>
        </div>
        <!-- <font color= Red> * </font> -->
    
    <div>
      <label for="tNumber">Tracking number</label>
      <input class="form-control" type="number" id="tNumber" placeholder="Tracking number">
    </div>
       
    
      <input type="submit" id="submit-btn" onclick="storeInput() " value="Submit">
  </form>
  <img src="https://tpclient.teleperformancedibs.com/ChatExpressTP/app/cefiles/img/yod-icon.png" alt="yodel" class="yodelLogo"/>
      </div>
      <div class="submission-message" id="submissionMessage">Details submitted successfully!</div>
  </div>

  
    
    <div id="alertId" class="sticky">
      <div class="contentleft">
        <img src="https://tpclient.teleperformancedibs.com/ChatExpressTP/app/cefiles/img/ex-icon.png" alt="infoIcon">
        <p class="alerttitle">This chat is governed by Yodel's <br> <a href="https://www.yodel.co.uk/privacy-cookies-policy" target="_blank">Privacy & Cookies Policy.</a> </p>
      </div>
      <div class="contentright">
        <span class="closebtn" id="closebutton" onclick="myFunction()">&times;</span>
      </div>

    </div>
    
</body>

<script>
  const form = document.getElementById("yodel-form");
  const submissionMessage = document.getElementById("submissionMessage");
   
  form.addEventListener("submit", function (event) {
  event.preventDefault();
   
  const firstName = document.getElementById("fname").value.trim();
  const lastName = document.getElementById("lname").value.trim();
  const email = document.getElementById("email").value.trim();
  const lineaddress = document.getElementById("lineaddress").value.trim();
  const pcode = document.getElementById("pcode").value.trim();
  const nHelp = document.getElementById("nHelp").value.trim();
  const tNumber = document.getElementById("tNumber").value.trim();
   
  if (!firstName || !lastName || !email || !lineaddress || !pcode || !nHelp) {
  alert("Please fill all required fields.");
  return;
  }
   
  const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  if (!emailPattern.test(email)) {
  alert("Please enter a valid email address.");
  return;
  }
   
  window.parent.postMessage(
  JSON.stringify({
  event_code: "ym-client-event",
  data: JSON.stringify({
  event: {
  code: "userdetails",
  data: {
  firstname: firstName,
  lastname: lastName,
  email: email,
  lineaddress: lineaddress,
  pcode: pcode,
  nHelp: nHelp,
  tNumber: tNumber
  }
  }
  }),
  }),
  "*"
  );
   
  console.log("Data sent:", {
  firstName,
  lastName,
  email,
  lineaddress,
  pcode,
  nHelp,
  tNumber
  });
   
  // Disable the form
  const inputs = form.querySelectorAll("input, select, button");
  inputs.forEach(input => input.disabled = true);
   
  // Show submission message
  submissionMessage.style.display = "block";
  });
  </script>  

<script>
  function myFunction() {
var x = document.getElementById("alertId");
if (x.style.display === "none") {

} else {
x.style.display = "none";
}
}
</script>

</html>
